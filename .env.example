# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_USERNAME=
REDIS_DB=0
REDIS_STREAM_NAME=email_ingestion_stream
REDIS_MAX_STREAM_LENGTH=10000
REDIS_SSL=false
REDIS_SSL_CA_CERTS=

# IMAP Configuration
IMAP_HOST=imap.gmail.com
IMAP_PORT=993
IMAP_USER=your-email@gmail.com
IMAP_MAILBOX=INBOX
IMAP_POLL_INTERVAL_SECONDS=60

# OAuth2 Google Configuration
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8080
GOOGLE_TOKEN_FILE=tokens/gmail_token.json

# Worker Configuration
CONSUMER_GROUP_NAME=email_processor_group
CONSUMER_NAME=worker_01
BATCH_SIZE=10
BLOCK_TIMEOUT_MS=5000

# Idempotency Configuration
IDEMPOTENCY_TTL_SECONDS=86400

# DLQ Configuration
DLQ_STREAM_NAME=email_ingestion_dlq
DLQ_MAX_RETRY_ATTEMPTS=3
DLQ_INITIAL_BACKOFF_SECONDS=2
DLQ_MAX_BACKOFF_SECONDS=3600

# Processor Configuration
PROCESSOR_OUTPUT_STREAM_NAME=email_processed_stream
PROCESSOR_MAX_EMAIL_SIZE_BYTES=26214400

# Monitoring Configuration (per-component ports to avoid conflicts)
PRODUCER_METRICS_PORT=9090
PRODUCER_HEALTH_PORT=8080
WORKER_METRICS_PORT=9091
WORKER_HEALTH_PORT=8081

# Circuit Breaker Configuration
# CB_FAILURE_THRESHOLD=5
# CB_RECOVERY_TIMEOUT_SECONDS=60
# CB_SUCCESS_THRESHOLD=3

# Recovery Configuration
# RECOVERY_MIN_IDLE_MS=300000
# RECOVERY_MAX_CLAIM_COUNT=50
# RECOVERY_MAX_DELIVERY_COUNT=10
# RECOVERY_CHECK_INTERVAL_SECONDS=60

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
